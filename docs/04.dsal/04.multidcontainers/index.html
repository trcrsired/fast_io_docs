<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ch4.4: Multi-Dimension Containers - C++ Tutorial with fast_io</title>
  <link rel="stylesheet" href="/style.css">
  <link rel="manifest" href="/manifest.json">
</head>
<body>
  <main>
    <h1>Multi‑Dimension Containers</h1>

    <section>
      <h2>1. What is a "multi‑dimension container"?</h2>
      <p>
        In C++, there is no special syntax or built‑in type for multi‑dimension containers.
        Instead, you create them by <strong>nesting containers inside containers</strong>.
      </p>

      <p>
        For example:
      </p>
      <ul>
        <li>a container of containers → 2D</li>
        <li>a container of containers of containers → 3D</li>
        <li>a container of containers of containers of containers → 4D</li>
      </ul>

      <p>
        This works with any container: <code>::fast_io::vector</code>,
        <code>::fast_io::string</code>, <code>::fast_io::array</code>, or your own types.
      </p>

      <p>
        In practice, <strong><code>::fast_io::vector&lt;T&gt;</code> is the default container</strong>.
        It grows automatically and is the easiest to use for multi‑dimension structures.
      </p>
    </section>

    <section>
      <h2>2. 2D containers (containers of containers)</h2>
      <p>
        A 2D container is simply a container where each element is itself a container.
      </p>

      <h3>Example: 2D vector</h3>
<pre><code class="language-cpp">
#include <fast_io.h>
#include <fast_io_dsal/vector.h>

int main() {
    using namespace ::fast_io::iomnp;

    // A vector where each element is another vector
    ::fast_io::vector<::fast_io::vector<std::size_t>> grid{
        {1zu, 2zu, 3zu},
        {4zu, 5zu, 6zu},
        {7zu, 8zu, 9zu}
    };

    println(grid[1][2]); // prints 6
}
</code></pre>

      <h3>Example: vector of strings</h3>
      <p>
        A vector of strings is also a 2D container:
      </p>
      <ul>
        <li>outer dimension → list of strings</li>
        <li>inner dimension → characters inside each string</li>
      </ul>

<pre><code class="language-cpp">
::fast_io::vector<::fast_io::string> lines{
    "Hello",
    "fast_io",
    "world"
};

println(lines[0][1]); // 'e'
</code></pre>

      <h3>Example: array of vectors</h3>
<pre><code class="language-cpp">
#include <fast_io.h>
#include <fast_io_dsal/array.h>
#include <fast_io_dsal/vector.h>

int main() {
    using namespace ::fast_io::iomnp;

    ::fast_io::array<::fast_io::vector<std::size_t>, 3zu> buckets{
        ::fast_io::vector<std::size_t>{1zu, 2zu},
        ::fast_io::vector<std::size_t>{3zu},
        ::fast_io::vector<std::size_t>{4zu, 5zu, 6zu}
    };

    println(buckets[2][1]); // prints 5
}
</code></pre>
    </section>

    <section>
      <h2>3. 3D containers (containers of containers of containers)</h2>
      <p>
        A 3D container is simply one more level of nesting.
      </p>

<pre><code class="language-cpp">
#include <fast_io.h>
#include <fast_io_dsal/vector.h>

int main() {
    using namespace ::fast_io::iomnp;

    ::fast_io::vector<
        ::fast_io::vector<
            ::fast_io::vector<std::size_t>
        >
    > cube{
        {
            {1zu, 2zu, 3zu},
            {4zu, 5zu, 6zu}
        },
        {
            {7zu, 8zu, 9zu},
            {10zu, 11zu, 12zu}
        }
    };

    println(cube[1][0][2]); // prints 9
}
</code></pre>

      <p>
        You can think of this as:
      </p>
      <ul>
        <li>2 “layers”</li>
        <li>each layer has 2 “rows”</li>
        <li>each row has 3 “columns”</li>
      </ul>
    </section>

    <section>
      <h2>4. 4D containers (containers of containers of containers of containers)</h2>
      <p>
        A 4D container is just one more level of nesting beyond 3D.
      </p>

<pre><code class="language-cpp">
#include <fast_io.h>
#include <fast_io_dsal/vector.h>

int main() {
    using namespace ::fast_io::iomnp;

    ::fast_io::vector<
        ::fast_io::vector<
            ::fast_io::vector<
                ::fast_io::vector<std::size_t>
            >
        >
    > hypercube{
        {
            {
                {1zu, 2zu},
                {3zu, 4zu}
            },
            {
                {5zu, 6zu},
                {7zu, 8zu}
            }
        },
        {
            {
                {9zu, 10zu},
                {11zu, 12zu}
            },
            {
                {13zu, 14zu},
                {15zu, 16zu}
            }
        }
    };

    println(hypercube[1][0][1][1]); // prints 12
}
</code></pre>

      <p>
        This structure has:
      </p>
      <ul>
        <li>2 blocks</li>
        <li>each block has 2 layers</li>
        <li>each layer has 2 rows</li>
        <li>each row has 2 columns</li>
      </ul>
    </section>

    <section>
      <h2>5. Iterating through multi‑dimension containers</h2>
      <p>
        You simply nest loops the same way you nest containers.
      </p>

<pre><code class="language-cpp">
for(auto &row : grid) {
    for(auto &x : row) {
        print(x, " ");
    }
    println();
}
</code></pre>

      <p>
        This pattern works for any depth.
      </p>
    </section>

    <section>
      <h2>Key takeaways</h2>
      <ul>
        <li>C++ has no built‑in multi‑dimension containers.</li>
        <li>You create multi‑dimension structures by nesting containers.</li>
        <li>Container of containers → 2D; container of containers of containers → 3D; and so on.</li>
        <li>You can freely mix <code>vector</code>, <code>string</code>, and <code>array</code>.</li>
        <li><code>::fast_io::vector&lt;T&gt;</code> is the default container and the most flexible choice.</li>
        <li>Nesting works because containers behave like regular values that can be stored inside each other.</li>
      </ul>
    </section>

    <script src="/sw-register.js"></script>
    <div class="page-navigation">
      <a href="/docs/04.dsal/03.array/" class="prev-button">← Ch4.3: array</a>
      <a href="/" class="main-button">↑ Main Page</a>
      <a href="/docs/05.pointerscarray/" class="next-button">Ch5: Pointers and C-style array →</a>
    </div>
  </main>
</body>
</html>
